# 数据结构中常见的树(BST二叉搜索树、AVL平衡二叉树、RBT红黑树、B-树、B+树、B\*树)

## BST二叉搜索树

* 所有非叶子结点至多拥有两个儿子（Left和Right）；
* 所有结点存储一个关键字；
* 非叶子结点的左指针指向小于其关键字的子树，右指针指向大于其关键字的子树。

## AVL平衡二叉树

平衡二叉树或为空树，或为如下性质的二叉排序树：

* 左右子树深度之差的绝对值不超过1；
* 左右子树仍然为平衡二叉树。

平衡因子BF = 左子树深度 － 右子树深度。

## RBT红黑树

AVL是严格平衡树，因此在增加或者删除节点的时候，根据不同情况，**旋转的次数比红黑树要多**；红黑是弱平衡的，用非严格的平衡来换取增删节点时候旋转次数的降低；所以简单说，**搜索的次数远远大于插入和删除，那么选择AVL树，如果搜索，插入删除次数几乎差不多，应该选择RB树**。

只有满足以下全部性质的树，我们才称之为红黑树：

* 每个结点要么是红的，要么是黑的。
* 根结点是黑的。
* 每个叶结点，即空结点（NIL）是黑的。
* 如果一个结点是红的，那么它的俩个儿子都是黑的。
* **对每个结点**，**从该结点到其子孙结点**的所有路径上包含相同数目的黑结点。

## B-树

平衡多路搜索树（并不是二叉的）。

* 定义任意非叶子结点最多只有M个儿子；且M>2；
* 根结点的儿子数为\[2, M\]；
* 除根结点以外的非叶子结点的儿子数为\[M/2, M\]；
* 每个结点存放至少M/2-1（取上整）和至多M-1个关键字；（至少2个关键字）
* 非叶子结点的关键字个数=指向儿子的指针个数-1；
* 非叶子结点的关键字：K\[1\], K\[2\], …, K\[M-1\]；且K\[i\] < K\[i+1\]；
* 非叶子结点的指针：P\[1\], P\[2\], …, P\[M\]；其中P\[1\]指向关键字小于K\[1\]的子树，P\[M\]指向关键字大于K\[M-1\]的子树，其它P\[i\]指向关键字属于(K\[i-1\], K\[i\])的子树；
* 所有叶子结点位于同一层。

## B+树

B+树是B-树的变体，也是一种多路搜索树。

其定义基本与B-树同，除了：

* 非叶子结点的子树指针与关键字个数相同；
* 非叶子结点的子树指针P\[i\]，指向关键字值属于\[K\[i\], K\[i+1\])的子树（B-树是开区间）；
* 为**所有叶子结点增加一个链指针**；
* **所有关键字都在叶子结点出现**。

B+的特性：

* 所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好是有序的；
* 不可能在非叶子结点命中；
* 非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数据层；
* **更适合文件索引系统**；比如对已经建立索引的数据库记录，查找10<=id<=20，那么只要通过根节点搜索到id=10的叶节点，之后只要根据叶节点的链表找到第一个大于20的就行了，比B-树在查找10到20内的每一个时每次都从根节点出发查找提高了不少效率。

## 参考

[数据结构中常见的树（BST二叉搜索树、AVL平衡二叉树、RBT红黑树、B-树、B+树、B\*树）](https://blog.csdn.net/sup_heaven/article/details/39313731)

[真正理解红黑树，真正的(Linux内核里大量用到的数据结构，且常被二货问到)](https://blog.csdn.net/dog250/article/details/46665743)

[红黑树(一)之 原理和算法详细介绍](http://www.cnblogs.com/skywang12345/p/3245399.html)

[平衡二叉树和红黑树最差情况性能分析](https://blog.csdn.net/yuhk231/article/details/51218244)

[面试题——轻松搞定面试中的红黑树问题](https://www.cnblogs.com/wuchanming/p/4444961.html)
